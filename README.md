# action-pipeline-aws
aws:   https://wm3ce6ayrl.execute-api.us-east-2.amazonaws.com/default/python-aws

Я сначала думал сделать так:
  В первую очередь отправляется request по ссылке выше к aws и достаются значения которые сейчас там находятся. Так я бы получил список из 3х элементов таблицы и потом нашёл бы их в таблице сравнивая со значениями title. Я сначала так и сделал и оно работало если запускать с pyCharm у меня на компьютере но когда запускает функция aws Lambda - оно не работает и на этом request и перестает работать.
  Тогда я решил что можно изменять порядок в самой таблице airtable. Я хотел брать первые 3 элемента из списка, собирать с них нужныю информацию, потом брать первый из них (он же первый в списке), удалять его и снова записывать. Оно работало но в какой-то момент(я не сдледил за самими id элементов таблицы) один из элементов может получить такой id что будет первый в списке, и будет им постоянно. В итоге первые 5-6 могли спокойно перезаписаться, а 7й потом постоянно перезаписывается и всегда первый. Я решил изменить эти внутренние id каждого элемента, но в документации ничего не сказано на этот счёт.
  Третим способом я выбрал брать элементы по их id (не внутреннему) в таблице. Я брал первые три с минимальными id, запоминал, удалял первый и записывал его с id который больше максимального на 1. После этого обновлял все id уменьшая на 1. Но такой способ очень времязатратный - обновление данных у airtable долгое и в итоге программа работала секунд 5-6 а aws lambda после 3х секунд выдает ошибку что долго работает.
  В итоге я решил просто запоминать три элемента с минимальным не внутренним id, брать первый - перезаписывать ему id которое будет на 1 больше максимального и возвращать нужную строку. Этот способ лучше предыдущих потому-что меньше времени занимает и я не сохраняю промежуточное состояние а меняю сам порядок элементов в списке.
  
  Так же там в файлах есть куча папок - это папки пакета requests. У aws была своя библиотека для использования requests но ее убрали и взамен написали пользоваться самим пакетом requests. Проблема была в том что оно не принимает простой import и легче всего было скачать файлы этого пакета в проект.
